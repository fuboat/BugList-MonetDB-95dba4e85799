CREATE TABLE v0 ( v1 SMALLINT ) ; 
  UPDATE v0 SET v1 = CASE WHEN v1 > 37 THEN ( SELECT ALL AVG ( v1 ) AS v2 FROM ( SELECT SUM ( v1 ) OVER ( ORDER BY v1 RANGE BETWEEN UNBOUNDED PRECEDING AND UNBOUNDED FOLLOWING ) ) AS v3 WHERE v1 = v1 AND v1 = v1 ) / 99 ELSE 8 END ^ 16 + 1 ^ -32768 ; 
/*
 #0 0x7f22293a6414 (exp_ref+0x14)
 #1 0x7f22293d72a7 (exp_rename+0x2c7)
 #2 0x7f22293d6da5 (rel_push_project_up_+0x715)
 #3 0x7f22293b206e (rel_visitor_bottomup+0x17e)
 #4 0x7f22293b2007 (rel_visitor_bottomup+0x117)
 #5 0x7f22293b2007 (rel_visitor_bottomup+0x117)
 #6 0x7f22293b2007 (rel_visitor_bottomup+0x117)
 #7 0x7f22293b2007 (rel_visitor_bottomup+0x117)
 #8 0x7f22293b2007 (rel_visitor_bottomup+0x117)
 #9 0x7f22293b1f79 (rel_visitor_bottomup+0x89)
 #10 0x7f22293b2007 (rel_visitor_bottomup+0x117)
 #11 0x7f22293b1f9e (rel_visitor_bottomup+0xae)
 #12 0x7f22293b2007 (rel_visitor_bottomup+0x117)
 #13 0x7f22293b1f9e (rel_visitor_bottomup+0xae)
 #14 0x7f22293c37af (rel_optimizer+0x3df)
 #15 0x7f2229271be3 (sql_symbol2relation+0x103)
 #16 0x7f2229289b44 (SQLparser+0x354)
 #17 0x7f22292892e7 (SQLengine_+0x567)
 #18 0x7f2229287fa1 (SQLengine+0x11)
 #19 0x7f22295fce2f (runScenario+0x3f)
 #20 0x7f22295fd854 (MSscheduleClient+0x6a4)
 #21 0x7f222969b51d (doChallenge+0xed)
 #22 0x7f2229d061fb (THRstarter+0xeb)
 #23 0x7f2229d73c67 (thread_starter+0x27)
 #24 0x7f222912b609 (start_thread+0xd9)
 #25 0x7f2229050133 (clone+0x43)
*/
